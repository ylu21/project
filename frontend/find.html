<!DOCTYPE HTML>
<!--
	Ion by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Dandy Study</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>

		<script type="text/javascript">

		$(document).ready(function() {

			// var canvas = document.getElementById('myCanvas');
			// var context = canvas.getContext('2d');
			// context.canvas.width = window.innerWidth*.99;
			// context.canvas.height = window.innerHeight*.99;
			//
			// var imageObj = new Image();
			//
			// imageObj.onload = function() {
			// context.drawImage(imageObj, 0, 0, window.innerWidth, window.innerHeight);
			// };
			//
			//
			// imageObj.src = '../images/gleason.jpg';
			//
			//
			// context.beginPath();
			//
			//
			// //CITE: Philip Guo's CSC 210
			// // define a generic Ajax error handler:
			//  	// http://api.jquery.com/ajaxerror/
			//  	$(document).ajaxError(function() {
	    	// 	alert("Sorry, there was a problem!");
			//  	});
			//
			// $("#getGleason").click(function(){
			// 	$.ajax({
			// 		url: "maps/Gleason",
			// 		type: "GET",
			// 		dataType: "json",
			//
			// 		data: {spot: $("#spotBox").val()},
			//
			// 		success: function( data ) {
			//
			// 			//to scale the tables
			// 			var scalingFactorX = 1-(2048-window.innerWidth)/2048;
			// 			var scalingFactorY = 1-(1274-window.innerHeight)/1274;
			//
			//
			// 			for (var i = 0; i < data.length; i=i+4) {
			//
			// 			  context.rect(data[i]*scalingFactorX, data[i+1]*scalingFactorY, data[i+2]*scalingFactorX, data[i+3]*scalingFactorY);
			//
			// 			  context.fillStyle = "rgba(255, 0, 0, 0.3)";;
	  // 						context.fill();
	  // 						context.lineWidth = 0;
	  // 						context.strokeStyle = 'black';
	  // 						context.stroke();
			// 			}
			//
			//
			//       	},
			// 	}); //closes .ajax
			//
			// });


			var canvas = document.getElementById('myCanvas');
			var context = canvas.getContext('2d');
			context.canvas.width = window.innerWidth*.99;
			context.canvas.height = window.innerHeight*.99;

			var imageObj = new Image();

			imageObj.onload = function() {
			context.drawImage(imageObj, 0, 0, window.innerWidth, window.innerHeight);
			};


			imageObj.src = '../images/carlson.jpg';

			context.beginPath();

			$("#getCarlson").click(function(){
				$.ajax({
					url: "maps/Carlson",
					type: "GET",
					dataType: "json",

					data: {spot: $("#spotBox").val()},

					success: function( data ) {

						var scalingFactorX = 1-(458-window.innerWidth)/458;
						var scalingFactorY = 1-(518-window.innerHeight)/518;

						for (var i = 0; i < data.length; i=i+4) {

						  context.rect(data[i]*scalingFactorX, data[i+1]*scalingFactorY, data[i+2]*scalingFactorX, data[i+3]*scalingFactorY);

						  context.fillStyle = "rgba(255, 0, 0, 0.3)";;
	  						context.fill();
	  						context.lineWidth = 0;
	  						context.strokeStyle = 'black';
	  						context.stroke();
						}


			      	},
				}); //closes .ajax

			});
		});




		</script>
	</head>
	<body id="top">

		<!-- Header -->
			<header id="header" class="skel-layers-fixed">
				<h1><a href="index.html">Home</a></h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="find.html">Find a Spot</a></li>
						<li><a href="take.html">Take a Spot</a></li>
						<li><a href="about.html">About</a></li>
						<li><a href="#" class="button special">Click Me</a></li>
					</ul>
				</nav>
			</header>

		<!-- Banner -->
			<section id="banner">
				<div class="inner">
					<h2>Click On An Area</h2>
					<p>Our currently supported areas are shown below</p>
					<ul class="actions">
						<!-- WHERE BUTTONS USED TO BE -->
					</ul>
				</div>
			</section>

		<!-- One -->
			<section id="one" class="wrapper style1">
				<!--
				<header class="major">
					<h2>Gleason</h2>
					<button id="getGleason">Gleason's Map</button>
				</header>
				<div class="mapContainer">
					<canvas id="myCanvas" width="1269" height="788"></canvas>
				</div>
			-->

				<header class="major">
					<h2>Carlson</h2>
					<button id="getCarlson">Carlson's Level 2 Map</button>
				</header>
				<div class="carlsonContainer">
					<canvas id="myCanvas" width="1269" height="788"></canvas>
				</div>
			</section>


	</body>
</html>
